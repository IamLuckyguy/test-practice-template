# 테스트 코드 가이드

## 1. 왜 테스트 코드를 작성해야 하나?

### 📝 신규 기능 개발 관점
* 신규 기능 개발 과정 중 예상하지 못했던 문제를 미리 발견할 수 있다
* 작성한 코드가 의도한 대로 동작하는지 검증할 수 있다

### 🔄 유지보수 관점
* 단순 구조적 변경(중복 제거, 캡슐화)을 했을 때, 이전과 동일하게 기능이 동작하는지 확인할 수 있다
* 코드 수정이 필요한 상황에서 안정적인 대응을 할 수 있다

---

## 2. 테스트의 종류

### 🔍 단위(Unit) 테스트
> 가장 작은 단위의 코드 (주로 함수, 메서드 단위) 테스트

**✅ 장점**
* **회귀 문제를 발견할 수 있다**
* 작은 단위 테스트로 빠르게 실행 가능하다
* 코드 자체로 문서 기능을 제공한다

**❌ 단점**
* **테스트 코드 작성에 대한 추가적인 시간이 필요하다**
* 의존성 문제로 인해 테스트 코드 작성이 어려울 수 있다

### 🔄 통합(Integration) 테스트
> 여러 컴포넌트 간의 상호작용을 테스트

**✅ 장점**
* **실제 환경과 유사한 조건에서 테스트가 가능하다**
* 컴포넌트 간 인터페이스 문제를 발견할 수 있다
* 외부 시스템과의 연동 문제를 검증할 수 있다
* 엔드투엔드 시나리오 검증이 가능하다

**❌ 단점**
* **테스트 구성과 실행에 많은 시간이 소요된다**
* 실패 시 정확한 원인 파악이 어려울 수 있다
* 테스트 환경 구성이 복잡하다
* 외부 의존성으로 인해 테스트가 불안정할 수 있다

### 👥 UI 테스트
> 사용자 인터페이스 레벨에서의 전체 시스템 테스트 (QA 담당자, PM 등이 수행)

**✅ 장점**
* **실제 사용자 시나리오를 그대로 테스트할 수 있다**
* 전체 시스템의 동작을 한번에 검증할 수 있다
* 시각적 회귀 문제를 발견할 수 있다
* 사용자 관점의 품질 보증이 가능하다

**❌ 단점**
* **테스트 유지보수 비용이 높다 (인력 소모)**
* 테스트 실행 시간이 가장 오래 걸린다
* 테스트 실패 시 디버깅이 매우 복잡하다

---

## 3. 테스트 개발 방법론

### 🔄 TDD (Test Driven Development)
> 테스트 코드를 먼저 작성하고 구현하는 개발 방법론

**📝 개발 프로세스**
* Red: 실패하는 테스트 코드 작성
* Green: 테스트 통과하는 최소한의 코드 구현
* Refactor: 코드 개선 및 중복 제거

**✅ 장점**
* 명확한 요구사항 정의가 가능하다
* 과도한 설계를 방지할 수 있다
* 리팩토링에 대한 부담이 줄어든다
* 테스트 커버리지가 자연스럽게 높아진다

**❌ 단점**
* 초기 개발 속도가 느릴 수 있다
* 학습 곡선이 존재한다
* 모든 상황에 적용하기 어려울 수 있다

[TDD 예시 코드](src/test/java/kr/co/kwt/testpracticetemplate/application/service/SignUpServiceTDDTest.java)

### 🎯 BDD (Behavior Driven Development)
> 비즈니스 요구사항에 초점을 맞춘 테스트 방법론

**📝 테스트 구조**
* Given (준비): 테스트 상태를 설정
* When (실행): 테스트할 동작 수행
* Then (검증): 결과 확인

**✅ 장점**
* 비즈니스 요구사항을 명확하게 표현할 수 있다
* 개발자와 비개발자 간 소통이 용이하다
* 문서화가 자연스럽게 이루어진다

**❌ 단점**
* 테스트 작성에 시간이 더 소요될 수 있다
* 도메인 지식이 필요하다
* 작은 단위의 테스트에는 과도할 수 있다

[BDD 예시 코드](src/test/java/kr/co/kwt/testpracticetemplate/application/service/SignUpServiceBDDTest.java)

### 🎨 테스트 더블 (Test Double)
> 테스트에서 실제 객체 대신 사용하는 대체 객체들

**📝 종류**
* **Dummy**: 전달만 되는 객체
* **Stub**: 미리 준비된 결과를 반환하는 객체
* **Spy**: 호출 여부와 방법을 기록하는 객체
* **Mock**: 예상된 동작을 검증하는 객체
* **Fake**: 실제 구현을 단순화한 객체

**💡 사용 시점**
* 실제 객체를 사용하기 어려운 경우
* 테스트 실행 속도를 높여야 할 경우
* 특정 시나리오를 테스트해야 할 경우

[Test Double 예시 코드](src/test/java/kr/co/kwt/testpracticetemplate/application/service/SignUpServiceDoubleTest.java)

### ⚙️ 테스트 설계 원칙

**1. F.I.R.S.T 원칙**
* **Fast**: 테스트는 빠르게 실행되어야 한다
* **Independent**: 각 테스트는 독립적이어야 한다
* **Repeatable**: 어떤 환경에서도 반복 가능해야 한다
* **Self-Validating**: 테스트는 성공/실패가 명확해야 한다
* **Timely**: 적시에 작성되어야 한다

**2. AAA 패턴**
* **Arrange**: 테스트 데이터 준비
* **Act**: 테스트 대상 메서드 실행
* **Assert**: 결과 검증